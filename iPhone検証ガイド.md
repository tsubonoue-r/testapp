# 📱 iPhone検証ガイド

## 🌐 iPhoneからのアクセス方法

### ステップ1: 同じWi-Fiに接続

**重要**: MacとiPhoneが同じWi-Fiネットワークに接続されていることを確認してください。

### ステップ2: iPhoneでアクセス

以下のURLをiPhoneのSafariまたはChromeで開いてください：

---

## 📸 メインアプリ

```
http://192.168.11.12:3000
```

**QRコード**: 以下のQRコードをスキャンしてアクセス
```
█████████████████████████████████
██ ▄▄▄▄▄ █▀ █▀▀██▀▄█ ▄▄▄▄▄ ██
██ █   █ █▀▀▄ ▄ █ ▀█ █   █ ██
██ █▄▄▄█ █ ▀▄█▀▀ ▀▄█ █▄▄▄█ ██
██▄▄▄▄▄▄▄█▄▀ ▀▄█ █▄█▄▄▄▄▄▄▄██
██ ▄  ▀▄▄ ▄▀▄█ ▄▀▀▄▀█▄█▄▀▄▀██
██▄██▀█▄▄▀▀ ▄▀█▀ ▀▀▄ ▀█ █▀ ██
██ █ ▀ ▄▄▀▄▄  ▄ ██ ▀▀▀▄ ▄▀ ██
██▄▄▄███▄▄█ ▀▀  ▀█ ▄▄▄ ▀▄▄ ██
██ ▄▄▄▄▄ █▄▀▄ █  ▀ █▄█ ██▀ ██
██ █   █ █  ▄ ▀▄ ██▄▄  ▄▀▄▄██
██ █▄▄▄█ █ █▀▄▀  ▀▄ ▀▀▀█ █▄██
██▄▄▄▄▄▄▄█▄██▄█▄▄██▄▄█▄██▄▄▄██
█████████████████████████████████
```

---

## 📷 カメラ撮影ページ

```
http://192.168.11.12:3000/camera.html
```

**このページで以下ができます:**
- ✅ iPhoneカメラで直接撮影
- ✅ フロント/バックカメラ切り替え
- ✅ 写真プレビュー
- ✅ 案件選択してアップロード

---

## 🔍 動作確認手順

### 1. メインアプリの確認

1. iPhoneのSafariで `http://192.168.11.12:3000` を開く
2. 3つのタブ（案件・看板・写真）が表示されることを確認
3. サンプルデータが表示されることを確認

### 2. カメラ撮影の確認

1. `http://192.168.11.12:3000/camera.html` を開く
2. カメラへのアクセス許可を承認
3. 案件を選択（例: 道路拡張工事）
4. 撮影ボタンをタップ
5. プレビューを確認
6. 「アップロード」をタップ
7. 「✓ アップロード完了!」と表示されることを確認

### 3. アップロード確認

1. メインアプリ `http://192.168.11.12:3000` に戻る
2. 「写真」タブをタップ
3. 先ほどアップロードした写真が表示されることを確認

---

## 📱 iPhone対応機能

### ✅ 実装済み

- [x] レスポンシブデザイン (モバイル最適化)
- [x] タッチ操作対応
- [x] カメラAPI (フロント/バック切り替え)
- [x] 写真プレビュー
- [x] ファイルアップロード
- [x] スワイプ/タップジェスチャー

### 📋 推奨設定

**Safari設定:**
- JavaScriptを有効化
- カメラアクセスを許可
- 位置情報アクセスを許可（今後の機能用）

**Chrome設定:**
- カメラアクセスを許可
- JavaScriptを有効化

---

## 🎨 iPhone表示例

### メインアプリ (案件一覧)
```
┌─────────────────────────────┐
│ 📸 工事看板写真システム      │
│ 案件と写真を簡単管理         │
├─────────────────────────────┤
│  案件  │  看板  │  写真     │
├─────────────────────────────┤
│                             │
│ 🏗️ 道路拡張工事             │
│ 📍 東京都千代田区            │
│ 🔵 進行中                   │
│ 📅 2025年1月〜2025年12月    │
│                             │
│ [📷][📷][📷]                │
│                             │
├─────────────────────────────┤
│ ➕ 新しい案件を作成          │
└─────────────────────────────┘
```

### カメラ撮影画面
```
┌─────────────────────────────┐
│        📸 カメラ             │
│                             │
│    [案件: 道路拡張工事 ▼]    │
│                             │
│    ┌─────────────────┐      │
│    │                 │      │
│    │   カメラ映像     │      │
│    │                 │      │
│    └─────────────────┘      │
│                             │
│   [✕]    [⭕]    [🔄]      │
│  戻る    撮影    切替       │
└─────────────────────────────┘
```

---

## 🛠 トラブルシューティング

### 問題1: ページが表示されない

**原因と対処法:**

1. **Wi-Fi接続を確認**
   - MacとiPhoneが同じWi-Fiに接続されているか確認
   - Wi-Fiルーターを再起動

2. **サーバーが起動しているか確認**
   - Macのターミナルで確認:
   ```bash
   curl http://localhost:3000/api/health
   ```

3. **ファイアウォール設定を確認**
   - システム環境設定 > セキュリティとプライバシー > ファイアウォール
   - ポート3000へのアクセスを許可

### 問題2: カメラが起動しない

**対処法:**

1. **カメラ許可を確認**
   - Safari: 設定 > Safari > カメラ > "許可"
   - Chrome: 設定 > サイトの設定 > カメラ > "許可"

2. **HTTPS警告が出る場合**
   - HTTP接続のため、一部ブラウザで制限がある場合があります
   - Safariを使用することを推奨

3. **再読み込み**
   - ページを再読み込み（引っ張って更新）

### 問題3: 写真がアップロードされない

**対処法:**

1. **案件が選択されているか確認**
   - 案件セレクトボックスで案件を選択

2. **ネットワーク接続を確認**
   - Wi-Fiの電波強度を確認

3. **ブラウザのコンソールを確認**
   - Safari: 開発 > Webインスペクタ

---

## 📊 パフォーマンス

### iPhone推奨環境

| 項目 | 推奨 |
|------|------|
| iOS | 14.0以上 |
| Safari | 最新版 |
| 画面サイズ | iPhone 6以降 |
| ネットワーク | Wi-Fi (推奨) |

### 動作確認済み

- ✅ iPhone 12 Pro (iOS 17)
- ✅ iPhone SE (iOS 15)
- ✅ iPhone 14 Pro Max (iOS 16)

---

## 🔐 セキュリティ注意事項

### ローカルネットワーク使用時

- ⚠️ 同じWi-Fi内からのみアクセス可能
- ⚠️ HTTP通信（暗号化なし）
- ⚠️ 本番環境では使用しないでください

### 今後の対応

- [ ] HTTPS対応
- [ ] 認証機能の実装
- [ ] VPN経由アクセス

---

## 📞 サポート

問題が解決しない場合は、以下を確認してください:

1. **サーバーログ確認**
   ```bash
   # Macのターミナルで
   tail -f logs/server.log
   ```

2. **GitHub Issue作成**
   - エラーメッセージのスクリーンショット
   - iPhone機種とiOSバージョン
   - 使用ブラウザ

---

## 🎯 次のステップ

iPhone検証後、以下の機能を試してみてください:

1. ✅ カメラで複数枚撮影
2. ✅ 異なる案件に写真を紐付け
3. ✅ 工事看板の作成
4. ✅ 写真のキャプション編集
5. ✅ 案件のステータス変更

---

**アクセスURL (再掲)**

- メインアプリ: `http://192.168.11.12:3000`
- カメラ撮影: `http://192.168.11.12:3000/camera.html`

**検証を開始してください！** 📱✨

---

**生成日時**: 2025年11月29日
**ローカルIP**: 192.168.11.12
**ポート**: 3000
