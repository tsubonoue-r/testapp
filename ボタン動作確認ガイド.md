# 🔧 ボタン動作確認ガイド

## 📋 現在の状況

ボタンをクリックしても画面が遷移しない問題が発生しています。
段階的に原因を特定して解決します。

---

## ステップ1: テストページで基本動作を確認

### iPhoneで以下のURLにアクセス

```
http://192.168.11.12:3000/test.html
```

### このページで確認すること

1. **「クリックテスト」ボタン** をタップ
   - ✅ 表示される → ボタン自体は動作している
   - ❌ 何も起きない → 根本的な問題

2. **「window関数テスト」ボタン** をタップ
   - 結果を確認

3. **「API呼び出しテスト」ボタン** をタップ
   - API接続を確認

4. **「app.js確認」ボタン** をタップ
   - ⚠️ 重要: この結果を教えてください

5. **「モーダル表示」ボタン** をタップ
   - モーダルが開くか確認

---

## ステップ2: メインアプリの確認

### URLを確認

現在アクセスしているURLは以下のどれですか？

- [ ] `http://192.168.11.12:3000`
- [ ] `http://192.168.11.12:3000/app.html`
- [ ] `http://192.168.11.12:3000/index.html`
- [ ] その他: __________________

### Safariの開発者ツールで確認（可能な場合）

1. Macで Safari > 開発 > [あなたのiPhone名]
2. コンソールにエラーが表示されているか確認
3. エラー内容を教えてください

---

## ステップ3: キャッシュクリア（重要）

### 完全なキャッシュクリア

1. **Settings（設定）** アプリを開く
2. **Safari** を選択
3. **履歴とWebサイトデータを消去** をタップ
4. 確認して実行
5. Safariを完全に閉じる（マルチタスク画面から上スワイプ）
6. Safariを再起動
7. `http://192.168.11.12:3000` に再アクセス

---

## ステップ4: 詳細確認

### ページを長押しして確認

1. ページ上の空白部分を長押し
2. 「ページのソースを表示」（iOS 16+）
3. `<script src="/app.js"></script>` の行があるか確認

### ネットワークタブ確認（Macで）

Safari > 開発 > [iPhone] > ネットワーク タブ
以下のファイルが読み込まれているか確認:

- [ ] app.html (200 OK)
- [ ] app.js (200 OK)
- [ ] pwa-init.js (200 OK)

---

## 🛠 よくある問題と解決策

### 問題1: 古いバージョンがキャッシュされている

**解決策:**
```
1. Safariを完全に終了
2. 設定からキャッシュクリア
3. デバイスを再起動
4. 再度アクセス
```

### 問題2: JavaScriptが無効になっている

**確認方法:**
```
設定 > Safari > 詳細 > JavaScript
→ ONになっているか確認
```

### 問題3: プライベートブラウズモード

**確認方法:**
```
Safariのアドレスバーが黒い場合は
プライベートブラウズモードです

通常モードに戻す:
タブボタン（右下）> プライベート > 完了
```

### 問題4: app.jsが正しく読み込まれていない

**解決策:**
```
1. test.htmlで「app.js確認」ボタンをタップ
2. 結果が「✅」なら問題なし
3. 結果が「❌」なら以下を試す:
   - サーバー再起動
   - デバイス再起動
   - 別のブラウザで確認
```

---

## 📱 代替アクセス方法

### 方法1: 直接HTMLにアクセス

```
http://192.168.11.12:3000/app.html
```

### 方法2: indexページにアクセス

```
http://192.168.11.12:3000/index.html
```

### 方法3: カメラページに直接アクセス

```
http://192.168.11.12:3000/camera.html
```
※ このページはapp.jsに依存しないので、カメラ機能のみ使えます

---

## 🔍 デバッグ情報収集

以下の情報を教えていただけると、より正確な診断ができます：

### 基本情報
- [ ] iPhoneのモデル: __________________
- [ ] iOSのバージョン: __________________
- [ ] Safariのバージョン: __________________

### 動作確認結果
- [ ] test.htmlのクリックテストボタン: ⭕ / ❌
- [ ] test.htmlのapp.js確認ボタン: ⭕ / ❌
- [ ] メインアプリのタブ切り替え: ⭕ / ❌
- [ ] メインアプリの案件追加ボタン: ⭕ / ❌

### エラー情報
- コンソールエラー: __________________
- 表示されているURL: __________________

---

## 🚀 即座の回避策

動作確認が完了するまでの間、以下の方法で機能を使用できます：

### カメラ撮影を使う場合

```
http://192.168.11.12:3000/camera.html
```
このページは独立しており、app.jsなしで動作します。

### APIを直接使う場合

curlコマンドまたはPostmanで直接API操作:
```bash
# 案件作成
curl -X POST http://192.168.11.12:3000/api/projects \
  -H "Content-Type: application/json" \
  -d '{"name":"テスト案件","location":"東京"}'
```

---

## 📞 次のステップ

### 1. test.htmlにアクセス
```
http://192.168.11.12:3000/test.html
```

### 2. 全てのボタンをタップして結果を確認

### 3. 結果を報告
特に「app.js確認」ボタンの結果が重要です：
- ✅ の場合: app.jsは読み込まれています（別の問題）
- ❌ の場合: app.jsが読み込まれていません（これを修正）

### 4. 報告内容
```
test.htmlの結果:
1. クリックテスト: ⭕ / ❌
2. window関数テスト: ⭕ / ❌
3. API呼び出しテスト: ⭕ / ❌
4. app.js確認: ⭕ / ❌
5. モーダル表示: ⭕ / ❌

メインアプリの状況:
- アクセスしているURL: _______
- ボタンをタップした時の反応: _______
```

---

**まず test.html にアクセスして、5つのボタンを全て試してください！**

`http://192.168.11.12:3000/test.html`
